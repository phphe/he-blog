[{"data":1,"prerenderedAt":467},["Reactive",2],{"content-query-3L1wiwEL9t":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"tags":11,"body":14,"_type":462,"_id":463,"_source":464,"_file":465,"_extension":466},"/zh/blog/vue3-refresh-router-view","blog",false,"","Vue3 刷新 Router View","Vue3重新加载路由视图组件。","2021-06-24",[12,13],"vue","frontend",{"type":15,"children":16,"toc":459},"root",[17,25,39,263,276,330,434,440,453],{"type":18,"tag":19,"props":20,"children":21},"element","p",{},[22],{"type":23,"value":24},"text","给 router-view 添加 key, 改变 key 时 router-view 将会创建刷新.",{"type":18,"tag":19,"props":26,"children":27},{},[28,30,37],{"type":23,"value":29},"使用 Vue ",{"type":18,"tag":31,"props":32,"children":34},"code",{"className":33},[],[35],{"type":23,"value":36},"ref",{"type":23,"value":38},"创建变量.",{"type":18,"tag":40,"props":41,"children":45},"pre",{"className":42,"code":43,"language":44,"meta":7,"style":7},"language-ts shiki shiki-themes solarized-light github-dark monokai","import { ref } from \"vue\";\n\nexport const routeViewKey = ref(Math.random().toString());\nexport const reloadRouteView = () => {\n  routeViewKey.value = Math.random().toString();\n};\n","ts",[46],{"type":18,"tag":31,"props":47,"children":48},{"__ignoreMap":7},[49,93,103,170,206,254],{"type":18,"tag":50,"props":51,"children":54},"span",{"class":52,"line":53},"line",1,[55,61,67,72,77,82,88],{"type":18,"tag":50,"props":56,"children":58},{"style":57},"--shiki-default:#859900;--shiki-dark:#F97583;--shiki-sepia:#F92672",[59],{"type":23,"value":60},"import",{"type":18,"tag":50,"props":62,"children":64},{"style":63},"--shiki-default:#657B83;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[65],{"type":23,"value":66}," { ",{"type":18,"tag":50,"props":68,"children":70},{"style":69},"--shiki-default:#268BD2;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[71],{"type":23,"value":36},{"type":18,"tag":50,"props":73,"children":74},{"style":63},[75],{"type":23,"value":76}," } ",{"type":18,"tag":50,"props":78,"children":79},{"style":57},[80],{"type":23,"value":81},"from",{"type":18,"tag":50,"props":83,"children":85},{"style":84},"--shiki-default:#2AA198;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[86],{"type":23,"value":87}," \"vue\"",{"type":18,"tag":50,"props":89,"children":90},{"style":63},[91],{"type":23,"value":92},";\n",{"type":18,"tag":50,"props":94,"children":96},{"class":52,"line":95},2,[97],{"type":18,"tag":50,"props":98,"children":100},{"emptyLinePlaceholder":99},true,[101],{"type":23,"value":102},"\n",{"type":18,"tag":50,"props":104,"children":106},{"class":52,"line":105},3,[107,112,118,124,129,135,140,145,150,155,160,165],{"type":18,"tag":50,"props":108,"children":109},{"style":57},[110],{"type":23,"value":111},"export",{"type":18,"tag":50,"props":113,"children":115},{"style":114},"--shiki-default:#586E75;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-default-font-weight:bold;--shiki-dark-font-weight:inherit;--shiki-sepia-font-weight:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[116],{"type":23,"value":117}," const",{"type":18,"tag":50,"props":119,"children":121},{"style":120},"--shiki-default:#268BD2;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[122],{"type":23,"value":123}," routeViewKey",{"type":18,"tag":50,"props":125,"children":126},{"style":57},[127],{"type":23,"value":128}," =",{"type":18,"tag":50,"props":130,"children":132},{"style":131},"--shiki-default:#268BD2;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[133],{"type":23,"value":134}," ref",{"type":18,"tag":50,"props":136,"children":137},{"style":63},[138],{"type":23,"value":139},"(",{"type":18,"tag":50,"props":141,"children":142},{"style":69},[143],{"type":23,"value":144},"Math",{"type":18,"tag":50,"props":146,"children":147},{"style":63},[148],{"type":23,"value":149},".",{"type":18,"tag":50,"props":151,"children":152},{"style":131},[153],{"type":23,"value":154},"random",{"type":18,"tag":50,"props":156,"children":157},{"style":63},[158],{"type":23,"value":159},"().",{"type":18,"tag":50,"props":161,"children":162},{"style":131},[163],{"type":23,"value":164},"toString",{"type":18,"tag":50,"props":166,"children":167},{"style":63},[168],{"type":23,"value":169},"());\n",{"type":18,"tag":50,"props":171,"children":173},{"class":52,"line":172},4,[174,178,182,187,191,196,201],{"type":18,"tag":50,"props":175,"children":176},{"style":57},[177],{"type":23,"value":111},{"type":18,"tag":50,"props":179,"children":180},{"style":114},[181],{"type":23,"value":117},{"type":18,"tag":50,"props":183,"children":184},{"style":131},[185],{"type":23,"value":186}," reloadRouteView",{"type":18,"tag":50,"props":188,"children":189},{"style":57},[190],{"type":23,"value":128},{"type":18,"tag":50,"props":192,"children":193},{"style":63},[194],{"type":23,"value":195}," () ",{"type":18,"tag":50,"props":197,"children":198},{"style":114},[199],{"type":23,"value":200},"=>",{"type":18,"tag":50,"props":202,"children":203},{"style":63},[204],{"type":23,"value":205}," {\n",{"type":18,"tag":50,"props":207,"children":209},{"class":52,"line":208},5,[210,215,219,224,228,233,237,241,245,249],{"type":18,"tag":50,"props":211,"children":212},{"style":69},[213],{"type":23,"value":214},"  routeViewKey",{"type":18,"tag":50,"props":216,"children":217},{"style":63},[218],{"type":23,"value":149},{"type":18,"tag":50,"props":220,"children":221},{"style":69},[222],{"type":23,"value":223},"value",{"type":18,"tag":50,"props":225,"children":226},{"style":57},[227],{"type":23,"value":128},{"type":18,"tag":50,"props":229,"children":230},{"style":69},[231],{"type":23,"value":232}," Math",{"type":18,"tag":50,"props":234,"children":235},{"style":63},[236],{"type":23,"value":149},{"type":18,"tag":50,"props":238,"children":239},{"style":131},[240],{"type":23,"value":154},{"type":18,"tag":50,"props":242,"children":243},{"style":63},[244],{"type":23,"value":159},{"type":18,"tag":50,"props":246,"children":247},{"style":131},[248],{"type":23,"value":164},{"type":18,"tag":50,"props":250,"children":251},{"style":63},[252],{"type":23,"value":253},"();\n",{"type":18,"tag":50,"props":255,"children":257},{"class":52,"line":256},6,[258],{"type":18,"tag":50,"props":259,"children":260},{"style":63},[261],{"type":23,"value":262},"};\n",{"type":18,"tag":19,"props":264,"children":265},{},[266,268,274],{"type":23,"value":267},"将",{"type":18,"tag":31,"props":269,"children":271},{"className":270},[],[272],{"type":23,"value":273},"routeViewKey",{"type":23,"value":275},"作为 router-view 的 key.",{"type":18,"tag":40,"props":277,"children":281},{"className":278,"code":279,"language":280,"meta":7,"style":7},"language-html shiki shiki-themes solarized-light github-dark monokai","\u003Crouter-view :key=\"routeViewKey\">\u003C/router-view>\n","html",[282],{"type":18,"tag":31,"props":283,"children":284},{"__ignoreMap":7},[285],{"type":18,"tag":50,"props":286,"children":287},{"class":52,"line":53},[288,294,300,306,311,316,321,325],{"type":18,"tag":50,"props":289,"children":291},{"style":290},"--shiki-default:#93A1A1;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[292],{"type":23,"value":293},"\u003C",{"type":18,"tag":50,"props":295,"children":297},{"style":296},"--shiki-default:#268BD2;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[298],{"type":23,"value":299},"router-view",{"type":18,"tag":50,"props":301,"children":303},{"style":302},"--shiki-default:#93A1A1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[304],{"type":23,"value":305}," :key",{"type":18,"tag":50,"props":307,"children":308},{"style":63},[309],{"type":23,"value":310},"=",{"type":18,"tag":50,"props":312,"children":313},{"style":84},[314],{"type":23,"value":315},"\"routeViewKey\"",{"type":18,"tag":50,"props":317,"children":318},{"style":290},[319],{"type":23,"value":320},">\u003C/",{"type":18,"tag":50,"props":322,"children":323},{"style":296},[324],{"type":23,"value":299},{"type":18,"tag":50,"props":326,"children":327},{"style":290},[328],{"type":23,"value":329},">\n",{"type":18,"tag":40,"props":331,"children":333},{"className":42,"code":332,"language":44,"meta":7,"style":7},"import { routeViewKey } from \"yourpath\";\nexport default {\n  setup() {\n    return { routeViewKey };\n  },\n};\n",[334],{"type":18,"tag":31,"props":335,"children":336},{"__ignoreMap":7},[337,369,385,398,419,427],{"type":18,"tag":50,"props":338,"children":339},{"class":52,"line":53},[340,344,348,352,356,360,365],{"type":18,"tag":50,"props":341,"children":342},{"style":57},[343],{"type":23,"value":60},{"type":18,"tag":50,"props":345,"children":346},{"style":63},[347],{"type":23,"value":66},{"type":18,"tag":50,"props":349,"children":350},{"style":69},[351],{"type":23,"value":273},{"type":18,"tag":50,"props":353,"children":354},{"style":63},[355],{"type":23,"value":76},{"type":18,"tag":50,"props":357,"children":358},{"style":57},[359],{"type":23,"value":81},{"type":18,"tag":50,"props":361,"children":362},{"style":84},[363],{"type":23,"value":364}," \"yourpath\"",{"type":18,"tag":50,"props":366,"children":367},{"style":63},[368],{"type":23,"value":92},{"type":18,"tag":50,"props":370,"children":371},{"class":52,"line":95},[372,376,381],{"type":18,"tag":50,"props":373,"children":374},{"style":57},[375],{"type":23,"value":111},{"type":18,"tag":50,"props":377,"children":378},{"style":57},[379],{"type":23,"value":380}," default",{"type":18,"tag":50,"props":382,"children":383},{"style":63},[384],{"type":23,"value":205},{"type":18,"tag":50,"props":386,"children":387},{"class":52,"line":105},[388,393],{"type":18,"tag":50,"props":389,"children":390},{"style":131},[391],{"type":23,"value":392},"  setup",{"type":18,"tag":50,"props":394,"children":395},{"style":63},[396],{"type":23,"value":397},"() {\n",{"type":18,"tag":50,"props":399,"children":400},{"class":52,"line":172},[401,406,410,414],{"type":18,"tag":50,"props":402,"children":403},{"style":57},[404],{"type":23,"value":405},"    return",{"type":18,"tag":50,"props":407,"children":408},{"style":63},[409],{"type":23,"value":66},{"type":18,"tag":50,"props":411,"children":412},{"style":69},[413],{"type":23,"value":273},{"type":18,"tag":50,"props":415,"children":416},{"style":63},[417],{"type":23,"value":418}," };\n",{"type":18,"tag":50,"props":420,"children":421},{"class":52,"line":208},[422],{"type":18,"tag":50,"props":423,"children":424},{"style":63},[425],{"type":23,"value":426},"  },\n",{"type":18,"tag":50,"props":428,"children":429},{"class":52,"line":256},[430],{"type":18,"tag":50,"props":431,"children":432},{"style":63},[433],{"type":23,"value":262},{"type":18,"tag":435,"props":436,"children":438},"h2",{"id":437},"使用",[439],{"type":23,"value":437},{"type":18,"tag":19,"props":441,"children":442},{},[443,445,451],{"type":23,"value":444},"调用",{"type":18,"tag":31,"props":446,"children":448},{"className":447},[],[449],{"type":23,"value":450},"reloadRouteView",{"type":23,"value":452},"即可.",{"type":18,"tag":454,"props":455,"children":456},"style",{},[457],{"type":23,"value":458},"html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":7,"searchDepth":95,"depth":95,"links":460},[461],{"id":437,"depth":95,"text":437},"markdown","content:zh:blog:Vue3 refresh router view.md","content","zh/blog/Vue3 refresh router view.md","md",1706852440135]